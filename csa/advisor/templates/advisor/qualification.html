{% extends "base.html" %}

{% block head %}

<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/institution">Institutions</a></li>
  <li><a href="/institution/{{qualification.institution}}">{{qualification.institution}}</a></li>
  <li class="active">{{qualification.name}}</li>
</ol>


<h1>{{ qualification.name }}</h1>
{% endblock %}

{% block body %}
<div class ="index-link">
<div id="container">
    <div id="one">
	<h2>{{ qualification.institution }}</h2>

	<br>
	<h3>Details</h3>
	<p>{{ qualification.long_description }}</p>

	<br>
	<h3>Courses</h3>
	<p>{{ qualification.courses }}</p>
    
    <!-- Displays a list of subjects required for a particular qualification -->
	<br>
	<h3>Qualification Requirements</h3>
	<p>
		{% for sub in subjects %}
	    <li>{{sub.name}}</li>
	    {% endfor %}
	</p>

	<br>
	<h3>Careers that this qualification leads to</h3>
	<ul>
	  {% for career in careers %}
	    <li><a href="/career/{{ career.name }}">{{ career.name }}</a></li>
	  {% endfor %}
	</ul>
	<br>
    </div>
    <div id="two">
	<h3>More Information</h3>
  	{% for website in websites %}
  	<p><a href={{website.site_url}}>{{ website.name }}</a></p>
	{% endfor %}
    </div>
    <!--<div id="three">
	<p><a href="/">Home</a></p>
    </div>-->
   
    <!--Compares the subjects that a user has taken to a list of subjects required to obtain the
        qualification. The system then displays a list of subject requirments that have been met and a list of subjects that the user hasn't taken (and that are required) -->
    {% if user.is_authenticated %}

    	<h3>Subject Requirments that You Have Met</h3>
    	{% if matched_subjects|length == 0 %}
    		{% if extra_subjects_needed|length != 0 %}
    			<p style="font-weight:normal;  font-size:16px;"><font color = red> You have not done any of the subjects required for this qualification</font></p>
    		{% else %}
    			<p style="font-weight:normal;  font-size:16px;"> There are no subject prerequisets for this qualification</p>
    		{% endif %}
    	{% else %}	
    		{% for sub in matched_subjects %}
	    		<li>{{sub}}</li>
			{% endfor %}
		{% endif %}

		<h3>Extra subjects needed</h3>
		{% if extra_subjects_needed|length == 0 %}
			<p style="font-weight:normal;  font-size:16px;"><font color = green> You have met all the subject requirements for this qualification!</font></p>
    	{% else %}
			{% for sub in extra_subjects_needed %}
		    	<li>{{sub}}</li>
			{% endfor %}
		{% endif %}

	{% else %}
        <p><a href="/accounts/register/">Sign up</a> or <a href="/accounts/login/">login</a> to see whether you meet all the subject requirments</p>
    
    {% endif %}
    
</div>
</div>

{% endblock %}
